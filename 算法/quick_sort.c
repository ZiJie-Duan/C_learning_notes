#include <stdio.h>

void swap(int *p1, int *p2){
    int temp = *p1;
    *p1 = *p2;
    *p2 = temp;
}

void spl_sort(int *arr, int n, int x, int *lo, int *hi){

    int next = 0;
    *lo = 0;
    *hi = n;

    while (next < *hi) {
        if (x > arr[next]){
            swap(&arr[next], &arr[*lo]);
            (*lo) ++;
            next ++;

        } else if (x < arr[next]){
            swap(&arr[next], &arr[(*hi)-1]);
            (*hi) --;

        } else {
            next ++;
        }
    }
}

int quick_sort(int *arr, int n){
    printf("n = %d\n", n);
    int lo, hi;
    if (n > 1){
        spl_sort(arr, n, arr[0], &lo, &hi);
        printf("lo = %d, hi = %d\n", lo, hi);
        for (int i = 0; i < n; i++){
            printf("%d", arr[i]);
        }printf("\n");
        quick_sort(arr, lo);
        quick_sort(arr + hi, n - hi);
    }
}

int main(void){
    int t1, t2;
    int lst[] = {747,809,339,795,643,913,546,311,665,6,255,275,779,206,880,851,634,843,482,679,776,218,467,540,607,933,168,132,379,258,569,3,673,6,897,913,385,343,799,57,711,111,253,540,148,267,492,2,975,182,130,927,686,933,241,713,702,834,120,746,134,619,58,478,671,589,69,191,177,168,874,35,412,844,327,892,283,799,641,863,735,812,417,554,184,72,926,872,91,398,132,987,226,15,929,671,399,775,701,832,435,450,573,504,38,552,983,723,548,749,396,498,901,459,81,654,570,296,683,500,250,206,871,488,819,642,259,893,977,990,771,240,711,283,583,965,239,631,291,84,439,947,44,478,850,193,913,983,329,93,405,124,424,489,871,325,72,751,143,875,910,734,357,308,581,894,696,330,439,709,10,889,923,642,575,997,885,291,571,795,36,166,730,399,410,768,349,587,494,61,640,596,944,49,903,824,857,710,733,146,517,118,61,863,390,267,836,604,145,528,56,937,333,101,664,240,348,54,120,383,808,529,732,394,348,624,983,820,420,504,42,46,54,343,678,50,949,515,367,331,83,230,448,792,619,469,146,591,398,239,611,116,706,264,439,644,921,143,245,698,752,178,213,219,717,350,576,307,125,544,828,341,641,412,675,964,673,37,714,164,471,782,734,873,955,441,185,756,236,374,962,835,188,169,236,895,653,79,514,714,208,657,893,188,369,813,581,713,554,819,544,390,786,239,589,39,387,803,936,622,488,811,193,317,546,418,974,537,24,360,152,650,231,194,992,422,722,80,662,604,53,589,258,381,893,845,663,614,14,860,293,158,58,137,553,825,910,637,213,403,332,465,879,520,602,763,231,940,394,694,364,293,419,326,214,636,976,922,916,952,495,758,133,215,793,379,74,133,628,271,150,600,529,119,400,439,909,550,592,877,829,77,34,524,419,509,200,385,320,612,917,810,308,475,50,766,859,537,466,390,111,365,340,295,143,287,271,110,972,927,399,561,9,99,917,672,436,972,866,331,339,972,265,681,532,244,384,636,474,925,992,111,597,205,259,601,651,639,208,293,266,5,590,148,861,128,137,436,204,117,454,939,165,527,312,136,846,285,723,796,847,0,344,826,301,554,604,289,862,817,862,934,993,779,926,897,59,187,734,736};
    quick_sort(lst, 500);
    //spl_sort(lst, 9, 5, &t1, &t2);
    for (int i = 0; i < 500; i++){
        printf("%d,", lst[i]);
    }
}